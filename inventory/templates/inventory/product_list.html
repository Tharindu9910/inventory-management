{% extends "base.html" %}

{% block title %}Products{% endblock %}

{% block content %}


<!-- <h1>Products</h1>

<a href="{% url 'product-create' %}">Create Product</a>

<ul>
  {% for product in products %}
  <li>
    {{ product.name }} | {{ product.quantity }} | {{ product.price }}
    <a href="{% url 'product-update' product.pk %}">Edit</a>
    <a href="{% url 'product-delete' product.pk %}">Delete</a>
    <form method="post" action="{% url 'product-stock-update' product.pk %}">
        {% csrf_token %}
        <input type="number" name="change_amount" placeholder="Enter +/- value" />
        <button type="submit">Update Stock</button>
      </form>
  </li>
  {% endfor %}
</ul>
 -->

 <div class="space-y-6">
 
     <div class="flex justify-between items-center">
         <div>
             <h1 class="text-3xl font-semibold text-gray-900">Products</h1>
         </div>
 
         <a href="{% url 'product-create' %}"
            class="bg-gray-700 text-white px-5 py-2.5 rounded-lg shadow-sm hover:bg-gray-800 transition font-medium">
             + New Product
         </a>
     </div>
 
     <div class="bg-white shadow-sm border border-gray-200 rounded-xl overflow-hidden">
 
         <table class="min-w-full divide-y divide-gray-200">
             <thead class="bg-gray-50">
                 <tr class="text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                     <th class="px-6 py-4">Product</th>
                     <th class="px-6 py-4">SKU</th>
                     <th class="px-6 py-4">Stock</th>
                     <th class="px-6 py-4">Price (Rs)</th>
                     <th class="px-6 py-4 text-right">Actions</th>
                 </tr>
             </thead>
 
             <tbody class="divide-y divide-gray-100 bg-white">
 
                 {% for product in products %}
                 <tr class="hover:bg-gray-50 transition">
 

                     <td class="px-6 py-4">
                         <div class="font-medium text-gray-900">
                             {{ product.name }}
                         </div>
                     </td>
 
                     <td class="px-6 py-4 text-gray-600 text-sm">
                         {{ product.sku }}
                     </td>
 
                     <td class="px-6 py-4">
 
                         {% if product.quantity == 0 %}
                             <span class="px-3 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700">
                                 Out of Stock
                             </span>
                         {% elif product.quantity < 5 %}
                             <span class="px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700">
                                 Low ({{ product.quantity }})
                             </span>
                         {% else %}
                             <span class="px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700">
                                 {{ product.quantity }} in stock
                             </span>
                         {% endif %}
 
                     </td>
 
                     <td class="px-6 py-4 font-medium text-gray-900">
                        {{ product.price }}
                     </td>
 
                     <td class="px-6 py-4 text-right space-x-3">
 
                         <a href="{% url 'product-update' product.pk %}"
                            class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                             Edit
                         </a>
 
                         <a href="{% url 'product-delete' product.pk %}"
                            class="text-red-600 hover:text-red-800 text-sm font-medium">
                             Delete
                         </a>
 
                     </td>
 
                 </tr>
                 {% empty %}
                 <tr>
                     <td colspan="5" class="px-6 py-8 text-center text-gray-500">
                         No products available.
                     </td>
                 </tr>
                 {% endfor %}
 
             </tbody>
         </table>
     </div>
 
 </div>
 
 {% endblock %}